{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jonathan/Desktop/flashcard/utils/progressTracker.js"],"sourcesContent":["// LocalStorage kulcsok\r\nconst KNOWN_WORDS_KEY = \"knownWords\";\r\nconst UNKNOWN_WORDS_KEY = \"unknownWords\";\r\nconst SESSION_STATS_KEY = \"sessionStats\";\r\n\r\n// ====================================\r\n// TUDOTT SZAVAK\r\n// ====================================\r\nexport function getKnownWords() {\r\n  if (typeof window === \"undefined\") return [];\r\n  try {\r\n    const data = localStorage.getItem(KNOWN_WORDS_KEY);\r\n    return data ? JSON.parse(data) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function addKnownWord(word) {\r\n  if (typeof window === \"undefined\") return;\r\n  try {\r\n    const known = getKnownWords();\r\n    if (!known.includes(word)) {\r\n      known.push(word);\r\n      localStorage.setItem(KNOWN_WORDS_KEY, JSON.stringify(known));\r\n    }\r\n    // Ha volt unknown-ban, t√∂r√∂lj√ºk\r\n    removeUnknownWord(word);\r\n  } catch (error) {\r\n    console.error(\"Hiba a tudott sz√≥ ment√©sekor:\", error);\r\n  }\r\n}\r\n\r\nexport function clearKnownWords() {\r\n  if (typeof window === \"undefined\") return;\r\n  localStorage.removeItem(KNOWN_WORDS_KEY);\r\n}\r\n\r\n// ====================================\r\n// NEM TUDOTT SZAVAK\r\n// ====================================\r\nexport function getUnknownWords() {\r\n  if (typeof window === \"undefined\") return [];\r\n  try {\r\n    const data = localStorage.getItem(UNKNOWN_WORDS_KEY);\r\n    return data ? JSON.parse(data) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function addUnknownWord(word) {\r\n  if (typeof window === \"undefined\") return;\r\n  try {\r\n    const unknown = getUnknownWords();\r\n    if (!unknown.includes(word)) {\r\n      unknown.push(word);\r\n      localStorage.setItem(UNKNOWN_WORDS_KEY, JSON.stringify(unknown));\r\n    }\r\n    // Ha volt known-ban, t√∂r√∂lj√ºk\r\n    removeKnownWord(word);\r\n  } catch (error) {\r\n    console.error(\"Hiba a nem tudott sz√≥ ment√©sekor:\", error);\r\n  }\r\n}\r\n\r\nexport function removeUnknownWord(word) {\r\n  if (typeof window === \"undefined\") return;\r\n  try {\r\n    const unknown = getUnknownWords();\r\n    const filtered = unknown.filter((w) => w !== word);\r\n    localStorage.setItem(UNKNOWN_WORDS_KEY, JSON.stringify(filtered));\r\n  } catch (error) {\r\n    console.error(\"Hiba a nem tudott sz√≥ t√∂rl√©sekor:\", error);\r\n  }\r\n}\r\n\r\nfunction removeKnownWord(word) {\r\n  if (typeof window === \"undefined\") return;\r\n  try {\r\n    const known = getKnownWords();\r\n    const filtered = known.filter((w) => w !== word);\r\n    localStorage.setItem(KNOWN_WORDS_KEY, JSON.stringify(filtered));\r\n  } catch (error) {\r\n    console.error(\"Hiba a tudott sz√≥ t√∂rl√©sekor:\", error);\r\n  }\r\n}\r\n\r\nexport function clearUnknownWords() {\r\n  if (typeof window === \"undefined\") return;\r\n  localStorage.removeItem(UNKNOWN_WORDS_KEY);\r\n}\r\n\r\n// ====================================\r\n// SESSION STATS\r\n// ====================================\r\nexport function getSessionStats() {\r\n  if (typeof window === \"undefined\")\r\n    return { correct: 0, incorrect: 0, total: 0 };\r\n  try {\r\n    const data = localStorage.getItem(SESSION_STATS_KEY);\r\n    return data ? JSON.parse(data) : { correct: 0, incorrect: 0, total: 0 };\r\n  } catch {\r\n    return { correct: 0, incorrect: 0, total: 0 };\r\n  }\r\n}\r\n\r\nexport function updateSessionStats(isCorrect) {\r\n  if (typeof window === \"undefined\") return;\r\n  try {\r\n    const stats = getSessionStats();\r\n    stats.total += 1;\r\n    if (isCorrect) {\r\n      stats.correct += 1;\r\n    } else {\r\n      stats.incorrect += 1;\r\n    }\r\n    localStorage.setItem(SESSION_STATS_KEY, JSON.stringify(stats));\r\n  } catch (error) {\r\n    console.error(\"Hiba a session stats ment√©sekor:\", error);\r\n  }\r\n}\r\n\r\nexport function resetSessionStats() {\r\n  if (typeof window === \"undefined\") return;\r\n  localStorage.setItem(\r\n    SESSION_STATS_KEY,\r\n    JSON.stringify({ correct: 0, incorrect: 0, total: 0 })\r\n  );\r\n}\r\n\r\n// ====================================\r\n// STATISZTIKA SZ√ÅM√çT√ÅS\r\n// ====================================\r\nexport function calculateProgress(totalWords, source, level) {\r\n  const knownWords = getKnownWords();\r\n  const unknownWords = getUnknownWords();\r\n\r\n  const knownCount = knownWords.length;\r\n  const unknownCount = unknownWords.length;\r\n  const reviewedCount = knownCount + unknownCount;\r\n\r\n  const percentage =\r\n    totalWords > 0 ? ((knownCount / totalWords) * 100).toFixed(1) : 0;\r\n\r\n  return {\r\n    knownCount,\r\n    unknownCount,\r\n    reviewedCount,\r\n    totalWords,\r\n    percentage,\r\n    source,\r\n    level,\r\n  };\r\n}\r\n"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;;;;;;;;;;;;;;;;;;;;AACvB,MAAM,kBAAkB;AACxB,MAAM,oBAAoB;AAC1B,MAAM,oBAAoB;AAKnB,SAAS;IACd,wCAAmC,OAAO,EAAE;;;AAO9C;AAEO,SAAS,aAAa,IAAI;IAC/B,wCAAmC;;;AAYrC;AAEO,SAAS;IACd,wCAAmC;;;AAErC;AAKO,SAAS;IACd,wCAAmC,OAAO,EAAE;;;AAO9C;AAEO,SAAS,eAAe,IAAI;IACjC,wCAAmC;;;AAYrC;AAEO,SAAS,kBAAkB,IAAI;IACpC,wCAAmC;;;AAQrC;AAEA,SAAS,gBAAgB,IAAI;IAC3B,wCAAmC;;;AAQrC;AAEO,SAAS;IACd,wCAAmC;;;AAErC;AAKO,SAAS;IACd,wCACE,OAAO;QAAE,SAAS;QAAG,WAAW;QAAG,OAAO;IAAE;;;AAOhD;AAEO,SAAS,mBAAmB,SAAS;IAC1C,wCAAmC;;;AAarC;AAEO,SAAS;IACd,wCAAmC;;;AAKrC;AAKO,SAAS,kBAAkB,UAAU,EAAE,MAAM,EAAE,KAAK;IACzD,MAAM,aAAa;IACnB,MAAM,eAAe;IAErB,MAAM,aAAa,WAAW,MAAM;IACpC,MAAM,eAAe,aAAa,MAAM;IACxC,MAAM,gBAAgB,aAAa;IAEnC,MAAM,aACJ,aAAa,IAAI,CAAC,AAAC,aAAa,aAAc,GAAG,EAAE,OAAO,CAAC,KAAK;IAElE,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jonathan/Desktop/flashcard/utils/api.js"],"sourcesContent":["// Sz√≥ forr√°sok konfigur√°ci√≥ja\nexport const WORD_SOURCES = {\n  FREQUENCY: \"frequency\",\n  CEFR: \"cefr\",\n};\n\n// Aktu√°lis forr√°s (LocalStorage-b√≥l)\nexport function getCurrentSource() {\n  if (typeof window === \"undefined\") return WORD_SOURCES.FREQUENCY;\n  return localStorage.getItem(\"wordSource\") || WORD_SOURCES.FREQUENCY;\n}\n\nexport function setCurrentSource(source) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(\"wordSource\", source);\n}\n\n// CEFR szintek\nexport const CEFR_LEVELS = {\n  ALL: \"all\",\n  A1: \"A1\",\n  A2: \"A2\",\n  B1: \"B1\",\n  B2: \"B2\",\n  C1: \"C1\",\n  C2: \"C2\",\n};\n\nexport function getCurrentCEFRLevel() {\n  if (typeof window === \"undefined\") return CEFR_LEVELS.ALL;\n  return localStorage.getItem(\"cefrLevel\") || CEFR_LEVELS.ALL;\n}\n\nexport function setCurrentCEFRLevel(level) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(\"cefrLevel\", level);\n}\n\n// Frequency szintek\nexport const FREQUENCY_LEVELS = {\n  TOP_1K: \"1000\",\n  TOP_10K: \"10000\",\n  TOP_50K: \"50000\",\n  ALL: \"all\",\n};\n\nexport function getCurrentFrequencyLevel() {\n  if (typeof window === \"undefined\") return FREQUENCY_LEVELS.TOP_10K;\n  return localStorage.getItem(\"frequencyLevel\") || FREQUENCY_LEVELS.TOP_10K;\n}\n\nexport function setCurrentFrequencyLevel(level) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(\"frequencyLevel\", level);\n}\n\n// ====================================\n// FREQUENCY CSV FUNCTIONS\n// ====================================\nlet frequencyData = null;\nasync function loadFrequency() {\n  if (frequencyData) return frequencyData;\n  try {\n    const response = await fetch(\"/data/valid_words_sorted_by_frequency.csv\");\n    const csvText = await response.text();\n    const lines = csvText.split(\"\\n\").slice(1);\n    frequencyData = lines\n      .map((line) => {\n        const parts = line.split(\",\");\n        if (parts.length < 3) return null;\n        const rank = parseInt(parts[0]?.trim());\n        const word = parts[1]?.trim();\n        const frequency = parseInt(parts[2]?.trim());\n        if (!word || isNaN(rank)) return null;\n        return { rank, word, frequency: frequency || 0 };\n      })\n      .filter(Boolean);\n    return frequencyData;\n  } catch (error) {\n    return [];\n  }\n}\n\nexport async function getRandomFrequencyWord(level = FREQUENCY_LEVELS.TOP_10K) {\n  await loadFrequency();\n  if (!frequencyData || frequencyData.length === 0)\n    throw new Error(\"Frequency lista nem el√©rhet≈ë\");\n  let filteredWords = frequencyData;\n  if (level !== FREQUENCY_LEVELS.ALL) {\n    const maxRank = parseInt(level);\n    filteredWords = frequencyData.filter((item) => item.rank <= maxRank);\n  }\n  if (filteredWords.length === 0)\n    throw new Error(`Nincs sz√≥ a(z) ${level} szinten`);\n  const randomIndex = Math.floor(Math.random() * filteredWords.length);\n  const wordData = filteredWords[randomIndex];\n  return {\n    english: wordData.word,\n    rank: wordData.rank,\n    frequency: wordData.frequency,\n    source: \"frequency\",\n  };\n}\n\nexport function getFrequencyWordCount(level = FREQUENCY_LEVELS.TOP_10K) {\n  if (!frequencyData) {\n    switch (level) {\n      case FREQUENCY_LEVELS.TOP_1K:\n        return 1000;\n      case FREQUENCY_LEVELS.TOP_10K:\n        return 10000;\n      case FREQUENCY_LEVELS.TOP_50K:\n        return 50000;\n      case FREQUENCY_LEVELS.ALL:\n        return 172000;\n      default:\n        return 10000;\n    }\n  }\n  if (level === FREQUENCY_LEVELS.ALL) return frequencyData.length;\n  const maxRank = parseInt(level);\n  return frequencyData.filter((item) => item.rank <= maxRank).length;\n}\n\n// ====================================\n// CSV CEFR FUNCTIONS\n// ====================================\nlet cefrData = null;\nasync function loadCEFR() {\n  if (cefrData) return cefrData;\n  try {\n    const response = await fetch(\"/data/word_list_cefr.csv\");\n    const csvText = await response.text();\n    const lines = csvText.split(\"\\n\").slice(1);\n    cefrData = lines\n      .map((line) => {\n        const parts = line.split(\";\");\n        if (parts.length < 3) return null;\n        return {\n          word: parts[0]?.trim(),\n          pos: parts[1]?.trim(),\n          cefr: parts[2]?.trim(),\n        };\n      })\n      .filter((item) => item && item.word && item.cefr);\n    return cefrData;\n  } catch (error) {\n    return [];\n  }\n}\n\nexport async function getRandomCEFRWord(level = CEFR_LEVELS.ALL) {\n  await loadCEFR();\n  if (!cefrData || cefrData.length === 0)\n    throw new Error(\"CEFR lista nem el√©rhet≈ë\");\n  let filteredWords = cefrData;\n  if (level !== CEFR_LEVELS.ALL) {\n    filteredWords = cefrData.filter((item) => item.cefr === level);\n  }\n  if (filteredWords.length === 0)\n    throw new Error(`Nincs sz√≥ a(z) ${level} szinten`);\n  const randomIndex = Math.floor(Math.random() * filteredWords.length);\n  const wordData = filteredWords[randomIndex];\n  return {\n    english: wordData.word,\n    pos: wordData.pos,\n    cefr: wordData.cefr,\n    source: \"cefr\",\n  };\n}\n\nexport function getCEFRWordCount(level = CEFR_LEVELS.ALL) {\n  if (!cefrData) {\n    // Becsl√©s, ha a lista m√©g nincs bet√∂ltve\n    return 7989;\n  }\n  if (level === CEFR_LEVELS.ALL) return cefrData.length;\n  return cefrData.filter((item) => item.cefr === level).length;\n}\n\n// ====================================\n// UNIFIED API - Automatikus forr√°s v√°laszt√°s\n// ====================================\nexport async function getRandomWord() {\n  const source = getCurrentSource();\n  const cefrLevel = getCurrentCEFRLevel();\n  const frequencyLevel = getCurrentFrequencyLevel();\n\n  let wordData;\n\n  if (source === WORD_SOURCES.FREQUENCY) {\n    wordData = await getRandomFrequencyWord(frequencyLevel);\n  } else {\n    wordData = await getRandomCEFRWord(cefrLevel);\n  }\n\n  const cached = getCachedTranslation(wordData.english);\n  if (cached) {\n    return {\n      ...wordData,\n      hungarian: cached.hungarian,\n      synonyms: cached.synonyms || [],\n      cached: true,\n    };\n  }\n\n  const response = await fetch(\n    `/api/translate?word=${encodeURIComponent(wordData.english)}`\n  );\n  if (!response.ok) {\n    throw new Error(\"Ford√≠t√°si API hiba\");\n  }\n\n  const translationData = await response.json();\n\n  const result = {\n    ...wordData,\n    hungarian: translationData.translation,\n    synonyms: translationData.synonyms,\n    cached: false,\n  };\n\n  setCachedTranslation(wordData.english, {\n    hungarian: result.hungarian,\n    synonyms: result.synonyms,\n  });\n\n  return result;\n}\n\nexport function getTotalWordsCount() {\n  const source = getCurrentSource();\n  const cefrLevel = getCurrentCEFRLevel();\n  const frequencyLevel = getCurrentFrequencyLevel();\n\n  if (source === WORD_SOURCES.FREQUENCY) {\n    return getFrequencyWordCount(frequencyLevel);\n  } else {\n    return getCEFRWordCount(cefrLevel);\n  }\n}\n\n// ====================================\n// CACHE FUNCTIONS\n// ====================================\nexport function getCachedTranslation(word) {\n  if (typeof window === \"undefined\") return null;\n  try {\n    const cached = localStorage.getItem(`translation_${word}`);\n    if (cached) {\n      const data = JSON.parse(cached);\n      const cacheAge = Date.now() - data.timestamp;\n      if (cacheAge < 7 * 24 * 60 * 60 * 1000) {\n        // 7 nap\n        return data.translation;\n      }\n    }\n  } catch (error) {\n    // Hiba eset√©n null-t adunk vissza\n  }\n  return null;\n}\n\nexport function setCachedTranslation(word, translationWithSynonyms) {\n  if (typeof window === \"undefined\") return;\n  try {\n    const cacheData = {\n      translation: translationWithSynonyms,\n      timestamp: Date.now(),\n    };\n    localStorage.setItem(`translation_${word}`, JSON.stringify(cacheData));\n  } catch (error) {\n    // Hiba eset√©n nem csin√°lunk semmit\n  }\n}\n\nexport function clearCache() {\n  if (typeof window === \"undefined\") return 0;\n  let count = 0;\n  try {\n    const keys = Object.keys(localStorage).filter((key) =>\n      key.startsWith(\"translation_\")\n    );\n    keys.forEach((key) => localStorage.removeItem(key));\n    count = keys.length;\n  } catch (error) {\n    // Hiba eset√©n 0-t adunk vissza\n  }\n  return count;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jonathan/Desktop/flashcard/app/stats/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Paper,\r\n  LinearProgress,\r\n  Chip,\r\n  Divider,\r\n  IconButton,\r\n} from \"@mui/material\";\r\nimport {\r\n  Home,\r\n  Refresh,\r\n  PlayArrow,\r\n  EmojiEvents,\r\n  TrendingUp,\r\n  Close,\r\n} from \"@mui/icons-material\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  getSessionStats,\r\n  resetSessionStats,\r\n  calculateProgress,\r\n  getUnknownWords,\r\n  clearUnknownWords,\r\n} from \"../../utils/progressTracker\";\r\nimport {\r\n  getTotalWordsCount,\r\n  getCurrentSource,\r\n  getCurrentCEFRLevel,\r\n  getCurrentFrequencyLevel,\r\n  WORD_SOURCES,\r\n} from \"../../utils/api\";\r\n\r\nexport default function Stats() {\r\n  const router = useRouter();\r\n  const [stats, setStats] = useState({ correct: 0, incorrect: 0, total: 0 });\r\n  const [progress, setProgress] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const sessionStats = getSessionStats();\r\n    setStats(sessionStats);\r\n\r\n    const totalWords = getTotalWordsCount();\r\n    const source = getCurrentSource();\r\n    const cefrLevel = getCurrentCEFRLevel();\r\n    const frequencyLevel = getCurrentFrequencyLevel();\r\n\r\n    const level =\r\n      source === WORD_SOURCES.FREQUENCY ? frequencyLevel : cefrLevel;\r\n\r\n    const progressData = calculateProgress(totalWords, source, level);\r\n    setProgress(progressData);\r\n  }, []);\r\n\r\n  const handleNewGame = () => {\r\n    resetSessionStats();\r\n    router.push(\"/flashcards\");\r\n  };\r\n\r\n  const handlePracticeUnknown = () => {\r\n    router.push(\"/flashcards/practice\");\r\n  };\r\n\r\n  const handleClearUnknown = () => {\r\n    if (confirm(\"Biztosan t√∂r√∂lni szeretn√©d a nem tudott szavakat?\")) {\r\n      clearUnknownWords();\r\n      setProgress({\r\n        ...progress,\r\n        unknownCount: 0,\r\n      });\r\n    }\r\n  };\r\n\r\n  const accuracy =\r\n    stats.total > 0 ? ((stats.correct / stats.total) * 100).toFixed(1) : 0;\r\n\r\n  const getPerformanceLevel = () => {\r\n    if (accuracy >= 90)\r\n      return { text: \"Kiv√°l√≥!\", color: \"success\", icon: \"üèÜ\" };\r\n    if (accuracy >= 75)\r\n      return { text: \"Nagyon j√≥!\", color: \"success\", icon: \"‚≠ê\" };\r\n    if (accuracy >= 60)\r\n      return { text: \"J√≥ munka!\", color: \"primary\", icon: \"üëç\" };\r\n    if (accuracy >= 40)\r\n      return { text: \"Gyakorolj m√©g!\", color: \"warning\", icon: \"üí™\" };\r\n    return { text: \"Kezd≈ë\", color: \"error\", icon: \"üìö\" };\r\n  };\r\n\r\n  const performance = getPerformanceLevel();\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Box\r\n        sx={{\r\n          minHeight: \"100vh\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          py: 4,\r\n        }}\r\n      >\r\n        {/* Fejl√©c */}\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n            mb: 3,\r\n          }}\r\n        >\r\n          <Link href=\"/\" passHref>\r\n            <IconButton color=\"primary\">\r\n              <Home />\r\n            </IconButton>\r\n          </Link>\r\n\r\n          <Typography variant=\"h5\" fontWeight=\"bold\">\r\n            üìä Statisztika\r\n          </Typography>\r\n\r\n          <IconButton onClick={() => router.push(\"/flashcards\")}>\r\n            <Close />\r\n          </IconButton>\r\n        </Box>\r\n\r\n        {/* Session eredm√©nyek */}\r\n        <Paper elevation={6} sx={{ p: 4, mb: 3, textAlign: \"center\" }}>\r\n          <EmojiEvents\r\n            sx={{ fontSize: 80, color: performance.color + \".main\", mb: 2 }}\r\n          />\r\n\r\n          <Typography variant=\"h3\" fontWeight=\"bold\" gutterBottom>\r\n            {performance.icon} {performance.text}\r\n          </Typography>\r\n\r\n          <Typography variant=\"h5\" color=\"text.secondary\" paragraph>\r\n            {accuracy}% pontoss√°g\r\n          </Typography>\r\n\r\n          <Box\r\n            sx={{ display: \"flex\", gap: 2, justifyContent: \"center\", mb: 3 }}\r\n          >\r\n            <Chip\r\n              label={`‚úÖ Tudott: ${stats.correct}`}\r\n              color=\"success\"\r\n              size=\"large\"\r\n            />\r\n            <Chip\r\n              label={`‚ùå Nem tudott: ${stats.incorrect}`}\r\n              color=\"error\"\r\n              size=\"large\"\r\n            />\r\n          </Box>\r\n\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            √ñsszesen: {stats.total} sz√≥ ebben a munkamenetben\r\n          </Typography>\r\n        </Paper>\r\n\r\n        {/* √ñsszes halad√°s */}\r\n        {progress && (\r\n          <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\r\n            <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n              <TrendingUp sx={{ mr: 1, verticalAlign: \"middle\" }} />\r\n              √ñsszes halad√°s\r\n            </Typography>\r\n\r\n            <Box sx={{ mb: 2 }}>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  mb: 1,\r\n                }}\r\n              >\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Tudott szavak\r\n                </Typography>\r\n                <Typography variant=\"body2\" fontWeight=\"bold\">\r\n                  {progress.knownCount} / {progress.totalWords}\r\n                </Typography>\r\n              </Box>\r\n              <LinearProgress\r\n                variant=\"determinate\"\r\n                value={parseFloat(progress.percentage)}\r\n                sx={{ height: 10, borderRadius: 5 }}\r\n              />\r\n              <Typography\r\n                variant=\"caption\"\r\n                color=\"text.secondary\"\r\n                sx={{ display: \"block\", mt: 0.5 }}\r\n              >\r\n                {progress.percentage}% befejezve\r\n              </Typography>\r\n            </Box>\r\n\r\n            <Divider sx={{ my: 2 }} />\r\n\r\n            <Box sx={{ display: \"flex\", gap: 2, flexWrap: \"wrap\" }}>\r\n              <Chip\r\n                label={`‚úÖ Tudott: ${progress.knownCount}`}\r\n                color=\"success\"\r\n              />\r\n              <Chip\r\n                label={`‚ùå Nem tudott: ${progress.unknownCount}`}\r\n                color=\"error\"\r\n              />\r\n              <Chip\r\n                label={`üìù √Åtn√©zett: ${progress.reviewedCount}`}\r\n                color=\"primary\"\r\n              />\r\n            </Box>\r\n          </Paper>\r\n        )}\r\n\r\n        {/* Nem tudott szavak gyakorl√°sa */}\r\n        {progress && progress.unknownCount > 0 && (\r\n          <Paper elevation={3} sx={{ p: 3, mb: 3, bgcolor: \"error.light\" }}>\r\n            <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n              ‚ùå Nem tudott szavak\r\n            </Typography>\r\n            <Typography variant=\"body2\" paragraph>\r\n              {progress.unknownCount} sz√≥t nem tudt√°l. Gyakorold ≈ëket!\r\n            </Typography>\r\n\r\n            <Box sx={{ display: \"flex\", gap: 2 }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"error\"\r\n                startIcon={<PlayArrow />}\r\n                onClick={handlePracticeUnknown}\r\n                fullWidth\r\n              >\r\n                Gyakorl√°s\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"inherit\"\r\n                onClick={handleClearUnknown}\r\n              >\r\n                T√∂rl√©s\r\n              </Button>\r\n            </Box>\r\n          </Paper>\r\n        )}\r\n\r\n        {/* Gombok */}\r\n        <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            startIcon={<Refresh />}\r\n            onClick={handleNewGame}\r\n            fullWidth\r\n            sx={{ py: 1.5 }}\r\n          >\r\n            √öj j√°t√©k\r\n          </Button>\r\n\r\n          <Link href=\"/\" passHref style={{ textDecoration: \"none\" }}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              size=\"large\"\r\n              startIcon={<Home />}\r\n              fullWidth\r\n              sx={{ py: 1.5 }}\r\n            >\r\n              Kezd≈ëlap\r\n            </Button>\r\n          </Link>\r\n        </Box>\r\n\r\n        {/* Info */}\r\n        <Box sx={{ mt: 3, textAlign: \"center\" }}>\r\n          <Typography variant=\"caption\" color=\"text.secondary\">\r\n            üí° A tudott/nem tudott szavak mentve vannak a b√∂ng√©sz≈ëben\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}